# 🎮 EEVE 공감력 배틀 - 감정 추론 게임

EEVE 공감력 배틀은 **사용자와 EEVE 모델이 번갈아 문장을 내고 감정을 맞히며 겨루는 감정 추론 게임**입니다.  
자연어 감정 이해력을 겨루며 재미있게 공감 능력을 테스트해보세요!

![made-with-python](https://img.shields.io/badge/Made%20with-Python-blue?style=flat-square)
![gradio-app](https://img.shields.io/badge/Powered%20by-Gradio-orange?style=flat-square)

---

## 🧠 사용 모델

- **EEVE-Korean-10.8B** (로컬 Ollama 서버를 통해 문장 생성)
- 감정 분류는 랜덤 추정으로 대체되어 있으며, 실제 감정 분석 모델로 쉽게 교체 가능

---

## 🕹️ 게임 방식

1. **User 턴**
   - 유저가 문장을 작성하고 해당 문장의 감정을 선택합니다.
   - EEVE가 그 문장을 보고 감정을 추론하여 맞추기를 시도합니다.

2. **EEVE 턴**
   - EEVE가 감정에 맞는 문장을 생성합니다.
   - 유저는 해당 문장을 읽고 어떤 감정인지 맞춥니다.

3. 정답일 경우 해당 플레이어에게 1점을 부여하며, 턴을 번갈아가며 진행합니다.

4. 원하는 시점에 게임 종료 버튼을 눌러 점수를 저장하고, 랭킹에 등록할 수 있습니다.

## 📈 랭킹 시스템

게임 종료 후 **유저와 EEVE의 점수**가 기록됩니다.  
**랭킹**은 점수에 따라 **내림차순**으로 정렬되어 표시됩니다.

### 기능

1. **점수 저장**: 게임 종료 후, `ranking.json` 파일에 사용자 점수와 EEVE의 점수가 기록됩니다.
   - 점수는 사용자와 EEVE 각각의 점수와 함께 턴 수도 저장됩니다.
   
2. **랭킹 표시**: `랭킹 보기` 버튼을 클릭하면, 저장된 랭킹 데이터를 기반으로 **순위**, **사용자 이름**, **점수**, **턴 수**가 표시됩니다.
   
3. **랭킹 출력**: **상위 1위부터 순위**가 표시되며, `tabulate` 라이브러리를 사용해 HTML 형식으로 예쁘게 출력됩니다.

### 예시

| 순위 | 사용자 이름 | User 점수 | EEVE 점수 | 턴 수 |
|------|--------------|-----------|-----------|-------|
| 1위  | 사용자1     | 15점      | 10점      | 7턴   |
| 2위  | 사용자2     | 12점      | 12점      | 8턴   |
| 3위  | 사용자3     | 10점      | 13점      | 9턴   |

### 사용 방법

1. **게임 종료 후 점수 저장**: 
   게임 종료 시, 유저와 EEVE의 점수가 `ranking.json` 파일에 저장됩니다.
   
2. **랭킹 조회**: 
   게임 화면에서 **"📊 랭킹 보기"** 버튼을 클릭하여, 저장된 랭킹을 확인할 수 있습니다.

### 랭킹 저장 예시 (JSON 파일)

```json
{
  "사용자1": {
    "user_score": 15,
    "eeve_score": 10,
    "turns": 7
  },
  "사용자2": {
    "user_score": 12,
    "eeve_score": 12,
    "turns": 8
  }
}
```
## 🛠 주요 기능 요약

1. **사용자와 EEVE의 감정 추론 대결**
   - 사용자와 EEVE가 번갈아가며 감정을 맞추는 게임입니다.
   - 사용자가 문장과 감정을 입력하면, EEVE는 감정을 추론하고 점수를 얻습니다.
   - EEVE가 문장을 내면, 사용자가 감정을 추측하여 점수를 얻습니다.

2. **점수 시스템**
   - 각 턴마다 사용자와 EEVE가 맞춘 감정에 대해 점수를 부여합니다.
   - 사용자가 맞추면 점수를 얻고, 틀리면 EEVE가 점수를 얻습니다.
   
3. **게임 종료 후 점수 저장**
   - 게임 종료 시, 사용자의 점수와 EEVE의 점수, 턴 수가 `ranking.json` 파일에 저장됩니다.
   - 저장된 데이터는 랭킹 조회에서 활용됩니다.

4. **랭킹 시스템**
   - 사용자 점수에 따른 **랭킹**을 표시합니다.
   - 사용자의 점수와 턴 수를 기반으로 상위 순위부터 내림차순으로 정렬된 랭킹을 제공합니다.

5. **UI (Gradio 인터페이스)**
   - Gradio 라이브러리를 사용하여 **간편한 웹 인터페이스**를 제공합니다.
   - 게임을 시작하고, 점수를 확인하며, 랭킹을 조회할 수 있는 직관적인 UI입니다.

6. **사용자 맞춤형 감정 추측**
   - 사용자에게 다양한 감정을 선택할 수 있는 드롭다운을 제공하여, 문장의 감정을 맞추게 합니다.
   - EEVE는 사용자 입력에 따라 감정을 추측하고, 사용자는 EEVE의 감정을 맞추기 위해 노력합니다.

7. **게임 진행 상태**
   - 게임의 진행 상태를 실시간으로 표시합니다.
   - 사용자의 점수와 EEVE의 점수를 실시간으로 업데이트합니다.

8. **문장과 감정의 랜덤 생성**
   - EEVE 모델을 통해 **랜덤한 감정에 맞는 문장을 생성**합니다.
   - 생성된 문장을 바탕으로 게임이 진행되며, 사용자는 이를 추측합니다.

### 사용된 주요 라이브러리

- **Gradio**: 간편한 UI 제공
- **Requests**: API 호출 및 응답 처리
- **JSON**: 점수 및 랭킹 데이터 저장
